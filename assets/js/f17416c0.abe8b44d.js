"use strict";(self.webpackChunkhyperfy_docs=self.webpackChunkhyperfy_docs||[]).push([[3321],{3055:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>i,metadata:()=>a,toc:()=>h});var n=t(4848),o=t(8453);const i={sidebar_position:30},r="Optimisation",a={id:"designers/optimisation",title:"Optimisation",description:"Optimisation is the process of making your 3D models more efficient.",source:"@site/docs/designers/optimisation.md",sourceDirName:"designers",slug:"/designers/optimisation",permalink:"/hyperfy-docs/docs/designers/optimisation",draft:!1,unlisted:!1,editUrl:"https://github.com/madjin/hyperfy-docs/tree/main/docs/designers/optimisation.md",tags:[],version:"current",lastUpdatedBy:"Ash",lastUpdatedAt:1696253992e3,sidebarPosition:30,frontMatter:{sidebar_position:30},sidebar:"docs",previous:{title:"Bloom",permalink:"/hyperfy-docs/docs/designers/bloom"},next:{title:"Tags",permalink:"/hyperfy-docs/docs/designers/tags"}},l={},h=[{value:"Mesh Complexity",id:"mesh-complexity",level:2},{value:"Mesh Compression",id:"mesh-compression",level:2},{value:"Texture Size",id:"texture-size",level:2},{value:"Texture Compression",id:"texture-compression",level:2},{value:"Draw Calls",id:"draw-calls",level:2},{value:"Texture Atlasing",id:"texture-atlasing",level:2},{value:"GPU Instancing",id:"gpu-instancing",level:2},{value:"Merging Geometry",id:"merging-geometry",level:2}];function d(e){const s={a:"a",h1:"h1",h2:"h2",p:"p",...(0,o.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(s.h1,{id:"optimisation",children:"Optimisation"}),"\n",(0,n.jsx)(s.p,{children:"Optimisation is the process of making your 3D models more efficient."}),"\n",(0,n.jsx)(s.p,{children:"This usually means that users spend less time loading into your world but also maintain a good framerate with less lag."}),"\n",(0,n.jsx)(s.p,{children:"The following are some things to look out for and some tips on how to get the best performance."}),"\n",(0,n.jsx)(s.h2,{id:"mesh-complexity",children:"Mesh Complexity"}),"\n",(0,n.jsx)(s.p,{children:"Often we build or find meshes that have a huge amount of triangles/vertices. This can be useful in the design phase but not very great for realtime virtual worlds that run on mobile devices."}),"\n",(0,n.jsx)(s.p,{children:'A simple trick in blender is to use the "Decimate" modifier. This modifier allows you to downsample your mesh while attempting to preserve its original shape.'}),"\n",(0,n.jsx)(s.p,{children:"TODO: screenshot before and after"}),"\n",(0,n.jsx)(s.h2,{id:"mesh-compression",children:"Mesh Compression"}),"\n",(0,n.jsx)(s.p,{children:"Mesh compression allows you to crunch the file size of your models down so that people spend less time waiting for them to load. We recommend you always compress your meshes as they offer huge savings in file size with no downsides."}),"\n",(0,n.jsx)(s.p,{children:"Hyperfy supports both Draco and Meshopt compression."}),"\n",(0,n.jsxs)(s.p,{children:["The simplest way to compress your models is by using ",(0,n.jsx)(s.a,{href:"https://gltf.report",children:"gltf.report"})," but you can also use CLI tools such as ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/gltfpack",children:"gltfpack"})," and ",(0,n.jsx)(s.a,{href:"https://gltf-transform.dev/",children:"gltf-transform"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"texture-size",children:"Texture Size"}),"\n",(0,n.jsx)(s.p,{children:"Each texture you use in a 3D model gets pushed to the GPU, and GPU's only have so much memory, especially on mobile."}),"\n",(0,n.jsx)(s.p,{children:"Texture size is the most common reason you might run into issues on mobile devices as they have a very limited amount of memory."}),"\n",(0,n.jsx)(s.p,{children:"Hyperfy has no limits on texture sizes but we recommend worlds have less than 25 textures at a size of 2048 x 2048."}),"\n",(0,n.jsx)(s.h2,{id:"texture-compression",children:"Texture Compression"}),"\n",(0,n.jsx)(s.p,{children:"Texture compression not only lowers your file sizes even further, but Basis/KTX2 texture compression uses up less GPU memory."}),"\n",(0,n.jsx)(s.p,{children:"We have full support for Basis/KTX2 texture compression and most of the time there is no reason to not use it."}),"\n",(0,n.jsxs)(s.p,{children:["Currently, you must use a CLI tool to compress textures. Either ",(0,n.jsx)(s.a,{href:"https://www.npmjs.com/package/gltfpack",children:"gltfpack"})," or ",(0,n.jsx)(s.a,{href:"https://gltf-transform.dev/",children:"gltf-transform"}),"."]}),"\n",(0,n.jsx)(s.h2,{id:"draw-calls",children:"Draw Calls"}),"\n",(0,n.jsx)(s.p,{children:"The more draw calls you have, the more work your CPU needs to do each frame. Keeping your draw calls low is the best way to maintain a high framerate, especially on mobile devices."}),"\n",(0,n.jsx)(s.p,{children:"But what exactly is a draw call? In Hyperfy's engine, each individual geometry will be at least one draw call. If that geometry has more than one material on it then it will cost another draw call for each."}),"\n",(0,n.jsx)(s.p,{children:"It's highly recommended to make sure all meshes only use a single material. If you feel like you need more than one, you can read about texture atlasing below."}),"\n",(0,n.jsx)(s.h2,{id:"texture-atlasing",children:"Texture Atlasing"}),"\n",(0,n.jsx)(s.p,{children:"TODO"}),"\n",(0,n.jsx)(s.h2,{id:"gpu-instancing",children:"GPU Instancing"}),"\n",(0,n.jsx)(s.p,{children:"TODO"}),"\n",(0,n.jsx)(s.h2,{id:"merging-geometry",children:"Merging Geometry"}),"\n",(0,n.jsx)(s.p,{children:"TODO (note: frustum culling issues)"})]})}function c(e={}){const{wrapper:s}={...(0,o.R)(),...e.components};return s?(0,n.jsx)(s,{...e,children:(0,n.jsx)(d,{...e})}):d(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>r,x:()=>a});var n=t(6540);const o={},i=n.createContext(o);function r(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function a(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:r(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);